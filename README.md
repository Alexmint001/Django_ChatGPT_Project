# Django_ChatGPT_Project_BE
# Cardify
- ì¸ì¦ëœ ì‚¬ìš©ìê°€ ê° ì£¼ì œ ë³„ë¡œ ì•”ê¸°í•˜ë ¤ëŠ” í•­ëª©ì„ ì…ë ¥í•˜ê³  ê¶ê¸ˆí•œ ë‚´ìš©ì€ ì±—ë´‡ì—ê²Œ ë¬¼ì–´ë³´ë©´ì„œ ê³µë¶€í•˜ëŠ” ì„œë¹„ìŠ¤

## ëª©ì°¨

[1. ëª©í‘œì™€ ê¸°ëŠ¥](#1-ëª©í‘œì™€-ê¸°ëŠ¥)<br>
[2. ê°œë°œ í™˜ê²½](#2-ê°œë°œ-í™˜ê²½)<br>
[3. í”„ë¡œì íŠ¸ êµ¬ì¡°ì™€ ê°œë°œ ì¼ì •](#3-í”„ë¡œì íŠ¸-êµ¬ì¡°ì™€-ê°œë°œ-ì¼ì •)<br>
[4. ìš”êµ¬ì‚¬í•­ ì‹œê°í™” ë° ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ë§(ERD)](#4-ìš”êµ¬ì‚¬í•­-ì‹œê°í™”-ë°-ë°ì´í„°ë² ì´ìŠ¤-ëª¨ë¸ë§(ERD))<br>
[5. UI](#5-UI)<br>
[6. ë©”ì¸ ê¸°ëŠ¥](#6-ë©”ì¸-ê¸°ëŠ¥)<br>
[7. ì¶”ê°€ ê¸°ëŠ¥](#7-ì¶”ê°€-ê¸°ëŠ¥)<br>
[8. ê°œë°œí•˜ë©° ê²½í—˜í•œ ì˜¤ë¥˜ì™€ í•´ê²°ë°©ë²•](#8-ê°œë°œí•˜ë©°-ê²½í—˜í•œ-ì˜¤ë¥˜ì™€-í•´ê²°ë°©ë²•)<br>
<br>

## 1. ëª©í‘œì™€ ê¸°ëŠ¥
### 1.1 ëª©í‘œ
- ê° ì£¼ì œ ë³„ë¡œ ì•”ê¸°í•˜ë ¤ëŠ” í•­ëª©ì„ ì…ë ¥í•˜ê³  ê¶ê¸ˆí•œ ë‚´ìš©ì€ ì±—ë´‡ì—ê²Œ ë¬¼ì–´ë³´ë©´ì„œ ê³µë¶€í•˜ëŠ” ì„œë¹„ìŠ¤
### 1.2 ê¸°ëŠ¥
- ì¸ì¦ëœ ì‚¬ìš©ìëŠ” ì•”ê¸° í•­ëª©ì„ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì•”ê¸° í•­ëª©ì˜ ìˆ˜ì • ë° ì‚­ì œëŠ” ì‘ì„±ìë§Œì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
- ì±—ë´‡ì—ê²Œ ê¶ê¸ˆí•œ ë‚´ìš©ì„ ë¬¼ì–´ë³´ê³  ë‹µë³€ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
<br>

## 2. ê°œë°œ í™˜ê²½ ë° ë°°í¬ Link 

### 2.1 ê°œë°œ í™˜ê²½
#### [FrontEnd]  
<div>
    <img src="https://img.shields.io/badge/JavaScript-F7DF1E?style=flat-square&logo=javascript&logoColor=black"/>
    <img src="https://img.shields.io/badge/HTML5-E34F26?style=flat-square&logo=html5&logoColor=white"/>
    <img src="https://img.shields.io/badge/CSS3-1572B6?style=flat-square&logo=css3&logoColor=white"/>
    <img src="https://img.shields.io/badge/Tailwind CSS-06B6D4?style=flat-square&logo=Tailwind CSS&logoColor=white"/>
</div>

#### [BackEnd]
<div>
    <img src="https://img.shields.io/badge/Python-3776AB?style=flat-square&logo=Python&logoColor=white"/>
    <img src="https://img.shields.io/badge/django-092E20?style=flat-square&logo=django&logoColor=white"/>
</div>

#### [Tool]
<div>
    <img src="https://img.shields.io/badge/Visual Studio Code-007ACC?style=flat-square&logo=Visual Studio Code&logoColor=white"/>
    <img src="https://img.shields.io/badge/GitHub-181717?style=flat-square&logo=GitHub&logoColor=white"/>
</div>
<br>

### 2.2 ë°°í¬ Link
[Cardify](http://13.209.212.147/accounts/login.html)
> í…ŒìŠ¤íŠ¸ìš© ID ë° PW  
> ID : guest1  
> PW : dhwjdqo1!  

## 3. í”„ë¡œì íŠ¸ êµ¬ì¡°ì™€ ê°œë°œ ì¼ì •

### 3.1 í”„ë¡œì íŠ¸ êµ¬ì¡°
ğŸ“¦BE  
 â”£ ğŸ“‚.git  
 â”£ ğŸ“‚accounts  
 â”ƒ â”£ ğŸ“‚migrations    
 â”ƒ â”£ ğŸ“‚__pycache__  
 â”ƒ â”£ ğŸ“œadmin.py  
 â”ƒ â”£ ğŸ“œapps.py  
 â”ƒ â”£ ğŸ“œmodels.py  
 â”ƒ â”£ ğŸ“œserializers.py  
 â”ƒ â”£ ğŸ“œtests.py  
 â”ƒ â”£ ğŸ“œurls.py  
 â”ƒ â”£ ğŸ“œviews.py  
 â”ƒ â”— ğŸ“œ__init__.py  
 â”£ ğŸ“‚Cardify  
 â”ƒ â”£ ğŸ“‚__pycache__  
 â”ƒ â”£ ğŸ“œasgi.py  
 â”ƒ â”£ ğŸ“œsettings.py  
 â”ƒ â”£ ğŸ“œurls.py  
 â”ƒ â”£ ğŸ“œwsgi.py  
 â”ƒ â”— ğŸ“œ__init__.py  
 â”£ ğŸ“‚chatbot  
 â”ƒ â”£ ğŸ“‚migrations  
 â”ƒ â”£ ğŸ“‚__pycache__  
 â”ƒ â”£ ğŸ“œadmin.py  
 â”ƒ â”£ ğŸ“œapps.py  
 â”ƒ â”£ ğŸ“œmodels.py  
 â”ƒ â”£ ğŸ“œserializers.py  
 â”ƒ â”£ ğŸ“œtests.py  
 â”ƒ â”£ ğŸ“œthrottles.py  
 â”ƒ â”£ ğŸ“œurls.py  
 â”ƒ â”£ ğŸ“œviews.py  
 â”ƒ â”— ğŸ“œ__init__.py  
 â”£ ğŸ“‚media  
 â”ƒ â”— ğŸ“œdefault_profile_image.png  
 â”£ ğŸ“‚memorycards  
 â”ƒ â”£ ğŸ“‚migrations  
 â”ƒ â”£ ğŸ“‚__pycache__  
 â”ƒ â”£ ğŸ“œadmin.py  
 â”ƒ â”£ ğŸ“œapps.py  
 â”ƒ â”£ ğŸ“œmodels.py  
 â”ƒ â”£ ğŸ“œpermissions.py  
 â”ƒ â”£ ğŸ“œserializers.py  
 â”ƒ â”£ ğŸ“œtests.py  
 â”ƒ â”£ ğŸ“œurls.py  
 â”ƒ â”£ ğŸ“œviews.py  
 â”ƒ â”— ğŸ“œ__init__.py  
 â”£ ğŸ“‚static  
 â”£ ğŸ“‚venv  
 â”£ ğŸ“œ.env  
 â”£ ğŸ“œ.gitignore  
 â”£ ğŸ“œdb.sqlite3  
 â”£ ğŸ“œmanage.py  
 â”£ ğŸ“œREADME.md  
 â”£ ğŸ“œrequirements.txt  
 â”— ğŸ“œsecrets.json  

<br>

### 3.2 API ëª…ì„¸ì„œ
- accounts

|App|URL|HTTP Method|HTML File Name|Note|Login|Author|
|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
|accounts|register/|POST|register.html|íšŒì›ê°€ì… í™”ë©´|||
|accounts|login/|POST|login.html|ë¡œê·¸ì¸ í™”ë©´|||
|accounts|profile/|GET|profile.html|í”„ë¡œí•„ í™”ë©´|âœ”ï¸||

- memorycards

|App|URL|HTTP Method|HTML File Name|Note|Login|Author|
|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
|memorycards|/|GET|memory_card_list.html|ê¸€ëª©ë¡ í™”ë©´|âœ”ï¸||
|memorycards|/|POST|memory_card_list_write.html|ê¸€ëª©ë¡ í™”ë©´|âœ”ï¸||
|memorycards|<int:pk>/|GET|memory_card_content.html|ìƒì„¸ê¸€ í™”ë©´|âœ”ï¸||
|memorycards|<int:pk>/|PUT|memory_card_content_edit.html|ê¸€ ìˆ˜ì • í™”ë©´|âœ”ï¸|âœ”ï¸|
|memorycards|<int:pk>/|DELETE|memory_card_content.html|ê¸€ ì‚­ì œ|âœ”ï¸|âœ”ï¸|

- chatbot

|App|URL|HTTP Method|HTML File Name|Note|Login|Author|
|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
|chatbot|/|GET|chat.html|ì´ì „ ì±„íŒ… ë‚´ìš© í™•ì¸|âœ”ï¸|âœ”ï¸|
|chatbot|/|POST|chat.html|ì±—ë´‡ì—ê²Œ ë‹µë³€ ìš”ì²­|âœ”ï¸|âœ”ï¸|

### 3.3 ê°œë°œ ì¼ì •

<div align="center">
<img width="800" alt="NotionTimeline" src="https://github.com/Alexmint001/Django_ChatGPT_Project_BE/assets/142385654/d16445cd-8192-4494-acc6-794c837440a5"><br>
- íƒ€ì„ë¼ì¸ -<br>
<br>

<img width="800" alt="WBS" src="https://github.com/Alexmint001/Django_ChatGPT_Project_BE/assets/142385654/f3ba8b42-8ffd-43d5-90d3-7385e5396cff"><br>
<img width="800" alt="WBS" src="https://github.com/Alexmint001/Django_ChatGPT_Project_BE/assets/142385654/61f956b3-5d98-4232-99b8-9bed5712bf37"><br>
<img width="800" alt="WBS" src="https://github.com/Alexmint001/Django_ChatGPT_Project_BE/assets/142385654/f1510bb6-1b7b-4916-87ec-3ff1da2cd775"><br>
[WBS ìŠ¤í”„ë ˆë“œì‹œíŠ¸](https://docs.google.com/spreadsheets/d/e/2PACX-1vQbfMrsn7gFsPs00l8CcxiGUMpIx7_rD-jf7RDY5ekv6mSTFPnxom0IQa6QphAAhllef_RJMnMvh0Yq/pubhtml)
</div>
<br>

## 4. ìš”êµ¬ì‚¬í•­ ì‹œê°í™”, ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ë§(ERD), ë°°í¬ ì•„í‚¤í…ì²˜ êµ¬ì„±ë„
<div align="center">
<img width="800" alt="MindMap" src="https://github.com/Alexmint001/Django_ChatGPT_Project_BE/assets/142385654/2f014b9d-841d-4e58-b91b-6e17167a2768"><br>
    - ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­(ë§ˆì¸ë“œë§µ) - <br>
<br>

<img width="800" alt="FlowChart" src="https://github.com/Alexmint001/Django_ChatGPT_Project_BE/assets/142385654/a18f572f-5656-4152-805c-2cd1f8630b0d"><br>
    - í”Œë¡œìš° ì°¨íŠ¸ - <br>
<br>

<img width="800" alt="ERD" src="https://github.com/Alexmint001/Django_ChatGPT_Project_BE/assets/142385654/ecde53ea-9f7f-48d8-b971-1eaf0f3cfa32"><br>
    - ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ë§(ERD ì„¤ê³„) - <br>
<br>

<img width="800" alt="architecture" src="https://github.com/Alexmint001/Django_ChatGPT_Project_BE/assets/142385654/1e989e6a-2566-488e-a213-ba35ad8a708b"><br>
    - ë°°í¬ ì•„í‚¤í…ì²˜ êµ¬ì„±ë„ - <br>
<br>
</div>
<br>

## 5. UI
### 5.1. ì™€ì´ì–´í”„ë ˆì„
<img width="100%" alt="image" src="https://github.com/Alexmint001/Django_ChatGPT_Project_BE/assets/142385654/28160bd1-efb4-410a-85fa-7fdc03ed2c81">

### 5.2. ì‹¤ì œ UI
- GitHub Link : [Django_ChatGPT_Project_FE](https://github.com/Alexmint001/Django_ChatGPT_Project_FE)

|||
|-|-|
|<img width="450px" alt="image" src="https://github.com/Alexmint001/Django_ChatGPT_Project_BE/assets/142385654/75d7dd92-ea97-4c0d-ae51-f4781daec151"><br><div align="center">01_ë¡œê·¸ì¸ í˜ì´ì§€</div>|<img width="450px" alt="image" src="https://github.com/Alexmint001/Django_ChatGPT_Project_BE/assets/142385654/561a86f0-1541-4798-bab9-8a03ae4b513b"><br><div align="center">02_íšŒì›ê°€ì… í˜ì´ì§€</div>|
|<img width="450px" alt="image" src="https://github.com/Alexmint001/Django_ChatGPT_Project_BE/assets/142385654/bb42a263-2771-4b94-b1c5-8bc1f8f15ce4"><br><div align="center">03_í”„ë¡œí•„ í˜ì´ì§€</div>|<img width="450px" alt="image" src="https://github.com/Alexmint001/Django_ChatGPT_Project_BE/assets/142385654/7f5c5705-46a1-44f8-9ecc-38711116e26b"><br><div align="center">04_ê¸€ ëª©ë¡ í˜ì´ì§€</div>|
|<img width="450px" alt="image" src="https://github.com/Alexmint001/Django_ChatGPT_Project_BE/assets/142385654/4ebf0912-4f72-43b7-bca2-b4d9a3c1b2d6"><br><div align="center">05_ê¸€ ì‘ì„± í˜ì´ì§€</div>|<img width="450px" alt="image" src="https://github.com/Alexmint001/Django_ChatGPT_Project_BE/assets/142385654/6a9bf372-81ca-4a6e-88cc-cf1d1f412780"><br><div align="center">06_ì‘ì„±ìê°€ ì•„ë‹Œ ì‚¬ìš©ìê°€ ë³´ëŠ” í˜ì´ì§€</div>|
|<img width="450px" alt="image" src="https://github.com/Alexmint001/Django_ChatGPT_Project_BE/assets/142385654/d384c318-fb15-4ec6-8962-2bf9c024ea8d"><br><div align="center">07_ì‘ì„±ìì¸ ì‚¬ìš©ìê°€ ë³´ëŠ” í˜ì´ì§€</div>|<img width="450px" alt="image" src="https://github.com/Alexmint001/Django_ChatGPT_Project_BE/assets/142385654/a6156475-a8e2-4d61-9a1f-741fa77da912"><br><div align="center">08_ê¸€ ìˆ˜ì • í˜ì´ì§€</div>|
|<img width="450px" alt="image" src="https://github.com/Alexmint001/Django_ChatGPT_Project_BE/assets/142385654/b75b0da3-c598-43ac-bd30-038684f36afe"><br><div align="center">09_ì±—ë´‡ í˜ì´ì§€</div>||

### 5.3. ê¸°ëŠ¥ ë³„ GIF

<div align="center">
    
|||
|-|-|
|<img width="450px" alt="" src="https://github.com/Alexmint001/Django_ChatGPT_Project_BE/assets/142385654/5d677e35-17bf-4104-becf-5d7ef460842a">|<div align="center">íšŒì›ê°€ì… ê¸°ëŠ¥</div>|
|<img width="450px" alt="" src="https://github.com/Alexmint001/Django_ChatGPT_Project_BE/assets/142385654/8abcd43a-81aa-4f35-8673-02e10798e86c">|<div align="center">ë¡œê·¸ì¸ ê¸°ëŠ¥</div>|
|<img width="450px" alt="" src="https://github.com/Alexmint001/Django_ChatGPT_Project_BE/assets/142385654/27d1858e-4110-44e5-adc0-068a39daa169">|<div align="center">í”„ë¡œí•„ ê¸°ëŠ¥</div>|
|<img width="450px" alt="" src="https://github.com/Alexmint001/Django_ChatGPT_Project_BE/assets/142385654/98b2578f-919c-4895-adea-d3f2e7c11f8a">|<div align="center">ë¡œê·¸ì•„ì›ƒ ê¸°ëŠ¥</div>|
|<img width="450px" alt="" src="https://github.com/Alexmint001/Django_ChatGPT_Project_BE/assets/142385654/02282032-7522-4fa2-89a2-2704639a2ae7">|<div align="center">ê¸€ ì“°ê¸° ë° ê¸€ ì½ê¸° ê¸°ëŠ¥ / CREATE, GET</div>|
|<img width="450px" alt="" src="https://github.com/Alexmint001/Django_ChatGPT_Project_BE/assets/142385654/10a991de-a814-4e74-a5fa-87d3423a3f0f">|<div align="center">ê¸€ ìˆ˜ì • ë° ê¸€ ì‚­ì œ / PUT, DELETE</div>|
|<img width="450px" alt="" src="https://github.com/Alexmint001/Django_ChatGPT_Project_BE/assets/142385654/124f7d0c-99c5-4156-a52c-fcaa46b6475b">|<div align="center">ì±—ë´‡ ìš”ì²­ ë° ë‹µë³€ / POST, GET</div>|
|<img width="450px" alt="" src="https://github.com/Alexmint001/Django_ChatGPT_Project_BE/assets/142385654/8f454c96-39ac-4270-af24-499fde234831">|<div align="center">ì±—ë´‡ ìš”ì²­ íšŸìˆ˜ ì´ˆê³¼</div>|

</div>
<br>

## 6. ë©”ì¸ ê¸°ëŠ¥
### 6.1. DRF ê¸€ ì‘ì„±/ì½ê¸°/ìˆ˜ì •/ì‚­ì œ ê¸°ëŠ¥ êµ¬í˜„
- mermorycards
    - `ModelViewSet`ì„ ìƒì†ë°›ëŠ” `MemoryCardViewSet`ì„ ì‘ì„±í•˜ì—¬ CRUD êµ¬í˜„
    - ë¡œê·¸ì¸í•œ ì‚¬ìš©ìë§Œ READ(GET), CREATE(POST) ê°€ëŠ¥í•˜ë„ë¡ `permission_classes`ì— `IsAuthenticated` ì„¤ì •
    - ì‘ì„±ì ë³¸ì¸ì¼ ê²½ìš°ì—ë§Œ UPDATE(PUT), DELETE(DELETE) ê°€ëŠ¥í•˜ë„ë¡ `permissions.py`ì— `IsAuthorOrReadOnly` ì‘ì„± í›„ ì„¤ì •
    - ì†ŒìŠ¤ ì½”ë“œ ë§í¬ : [memorycards/views.py](https://github.com/Alexmint001/Django_ChatGPT_Project_BE/blob/cee5d7a4c500f721dd74a1658402345752514826/memorycards/views.py#L8C1-L28C23) / [memorycards/permissions.py](https://github.com/Alexmint001/Django_ChatGPT_Project_BE/blob/cee5d7a4c500f721dd74a1658402345752514826/memorycards/permissions.py#L4C1-L21C5) / [memorycards/serializers.py](https://github.com/Alexmint001/Django_ChatGPT_Project_BE/blob/cee5d7a4c500f721dd74a1658402345752514826/memorycards/serializers.py#L4C1-L19C21)
### 6.2. DRF ë¡œê·¸ì¸/íšŒì›ê°€ì… ê¸°ëŠ¥
- accounts
    - `GenericAPIView`ë¥¼ ìƒì†ë°›ëŠ” `LoginView`ë¥¼ ì‘ì„±í•˜ì—¬ ë¡œê·¸ì¸ êµ¬í˜„ - POST
    - `CreateAPIView`ë¥¼ ìƒì†ë°›ëŠ” `RegisterView`ë¥¼ ì‘ì„±í•˜ì—¬ íšŒì›ê°€ì… êµ¬í˜„ - POST
    - ì†ŒìŠ¤ ì½”ë“œ ë§í¬ : [accounts/views.py](https://github.com/Alexmint001/Django_ChatGPT_Project_BE/blob/cee5d7a4c500f721dd74a1658402345752514826/accounts/views.py#L11C1-L75C32) / [accounts/serializers.py](https://github.com/Alexmint001/Django_ChatGPT_Project_BE/blob/cee5d7a4c500f721dd74a1658402345752514826/accounts/serializers.py#L7C1-L66C51)
### 6.3. OpenAI API ì—°ê²°í•˜ì—¬ ì±—ë´‡ êµ¬í˜„
- chatbot
    - `APIView`ë¥¼ ìƒì†ë°›ëŠ” `ChatBotView`ë¥¼ ì‘ì„±í•˜ì—¬ ì±—ë´‡ êµ¬í˜„ - GET / POST
    - ì†ŒìŠ¤ ì½”ë“œ ë§í¬ : [chatbot/views.py](https://github.com/Alexmint001/Django_ChatGPT_Project_BE/blob/cee5d7a4c500f721dd74a1658402345752514826/chatbot/views.py#L17C1-L60C64)
<br>

## 7. ì¶”ê°€ ê¸°ëŠ¥
### 7.1. DRF CRUDëŠ” Jason Web Token ë°©ì‹ìœ¼ë¡œ ì ìš©
### 7.1.1. CREATE, READ - ì¸ì¦ëœ ì‚¬ìš©ì (ACCESS TOKEN)
- memorycards
    - `Settings.py`ì˜ `REST_FRAMEWORK` ì˜ `DEFAULT_AUTHENTICATION_CLASSES` ì„¤ì •ì„ `rest_framework_simplejwt.authentication.JWTAuthentication`ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ JWT ì‚¬ìš©
    - `ModelViewSet`ì„ ìƒì†ë°›ëŠ” `MemoryCardViewSet`ì˜ `permission_classes`ë¥¼ í†µí•´ ì¸ì¦ëœ ì‚¬ìš©ìë¥¼ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - ì†ŒìŠ¤ ì½”ë“œ ë§í¬ : [Cardify/settings.py](https://github.com/Alexmint001/Django_ChatGPT_Project_BE/blob/8ee148dcea402a4b8008dc139ff86f729bafca60/Cardify/settings.py#L150C1-L154C2) / [memorycards/views.py](https://github.com/Alexmint001/Django_ChatGPT_Project_BE/blob/8ee148dcea402a4b8008dc139ff86f729bafca60/memorycards/views.py#L8C1-L27C11)

### 7.1.2. UPDATE, DELETE - ì¸ì¦ëœ ì‚¬ìš©ì (ACCESS TOKEN) + ì‘ì„±ì ë³¸ì¸ (author field)
- memorycards
    - `Settings.py`ì˜ `REST_FRAMEWORK` ì˜ `DEFAULT_AUTHENTICATION_CLASSES` ì„¤ì •ì„ `rest_framework_simplejwt.authentication.JWTAuthentication`ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ JWT ì‚¬ìš©
    - `ModelViewSet`ì„ ìƒì†ë°›ëŠ” `MemoryCardViewSet`ì˜ `permission_classes`ë¥¼ í†µí•´ ì¸ì¦ëœ ì‚¬ìš©ìë¥¼ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - `serializers.py`ì—ì„œ `get_is_author` ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë”© í•˜ì—¬ ì‘ì„±ì ë³¸ì¸ì¼ ê²½ìš° Trueë¥¼ ë¦¬í„´í•©ë‹ˆë‹¤.
    - `permissions.py` ì—ì„œ GET ìš”ì²­ì€ ì¸ì¦ ì—¬ë¶€ì™€ ìƒê´€ì—†ì´ í•­ìƒ Trueë¥¼ ë¦¬í„´í•˜ë˜ ê·¸ ì™¸ ìš”ì²­(PUT, DELETE)ì— ëŒ€í•´ì„œëŠ” ì‘ì„±ìì—ê²Œë§Œ Trueë¥¼ ë¦¬í„´í•˜ë„ë¡ `has_object_permission` ë©”ì„œë“œ ì˜¤ë²„ë¼ì´ë”©
    - ì†ŒìŠ¤ ì½”ë“œ ë§í¬ : [memorycards/serializers.py](https://github.com/Alexmint001/Django_ChatGPT_Project_BE/blob/8ee148dcea402a4b8008dc139ff86f729bafca60/memorycards/serializers.py#L15C1-L19C21) / [memorycards/permissions.py](https://github.com/Alexmint001/Django_ChatGPT_Project_BE/blob/8ee148dcea402a4b8008dc139ff86f729bafca60/memorycards/permissions.py#L13C2-L20C42)

### 7.2. DRF ë¡œê·¸ì¸, íšŒì›ê°€ì… ì‹œ Jason Web Token ë°œê¸‰
### 7.2.1. DRF ë¡œê·¸ì¸
- accounts
    - ë¡œê·¸ì¸ì€ POST ìš”ì²­ì´ë¯€ë¡œ `GenericAPIView`ë¥¼ ìƒì†ë°›ëŠ” `LoginView`ë¥¼ ì‘ì„±í•˜ê³ , post ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë”©, ì‚¬ìš©ì ì¸ì¦ í›„ access tokenê³¼ refresh tokenì„ ë¦¬í„´
    - ì†ŒìŠ¤ ì½”ë“œ ë§í¬ : [accounts/views.py](https://github.com/Alexmint001/Django_ChatGPT_Project_BE/blob/8ee148dcea402a4b8008dc139ff86f729bafca60/accounts/views.py#L43C1-L75C32)
### 7.2.2. DRF íšŒì›ê°€ì…
- accounts
    - íšŒì›ê°€ì…ì€ POST ìš”ì²­ì´ë¯€ë¡œ `CreateAPIView`ë¥¼ ìƒì†ë°›ëŠ” `RegisterView`ë¥¼ ì‘ì„±í•˜ê³ , post ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë”©, íšŒì› ê°€ì… í›„ access tokenê³¼ refresh tokenì„ ë¦¬í„´
    - íšŒì›ê°€ì… ì‹œ usernameê³¼ emailì€ í•„ìˆ˜ë¡œ ì…ë ¥ì´ í•„ìš”í•˜ê³ , ì¤‘ë³µì´ ë¶ˆê°€ëŠ¥ í•˜ë‹¤ë¼ëŠ” ì„¤ì •ê³¼ password1ê³¼ password2ëŠ” ê°™ì•„ì•¼í•˜ê³  í•„ìˆ˜ë¡œ ì…ë ¥ì´ í•„ìš”í•˜ë‹¤ëŠ” ì„¤ì •ì€ `serializers.py`ì—ì„œ `required`ì™€ `validators`ë¥¼ ì„¤ì •í•˜ì˜€ìŠµë‹ˆë‹¤.
    - ì†ŒìŠ¤ ì½”ë“œ ë§í¬ : [accounts/views.py](https://github.com/Alexmint001/Django_ChatGPT_Project_BE/blob/8ee148dcea402a4b8008dc139ff86f729bafca60/accounts/views.py#L11C1-L41C38) / [accounts/serializers.py](https://github.com/Alexmint001/Django_ChatGPT_Project_BE/blob/8ee148dcea402a4b8008dc139ff86f729bafca60/accounts/serializers.py#L7C1-L35C6)

### 7.3. ì±—ë´‡ ì¶”ê°€ ê¸°ëŠ¥
### 7.3.1. ì´ì „ì— ì±—ë´‡ê³¼ ì±„íŒ…í•œ ë‚´ìš©ì€ ë³¸ì¸ë§Œ í™•ì¸ ê°€ëŠ¥ - ì±„íŒ… ë‚´ìš© ë°ì´í„° ë² ì´ìŠ¤ ì €ì¥ + ì±„íŒ… ì‚¬ìš©ì ë³¸ì¸(user field)
- chatbot
    - ì±„íŒ… ë‚´ìš© ë³¸ì¸ë§Œ í™•ì¸ ê¸°ëŠ¥ì€ `APIView`ë¥¼ ìƒì†ë°›ëŠ” `ChatBotView`ì—ì„œ `get_queryset` ë©”ì„œë“œì—ì„œ ìš”ì²­í•œ ì‚¬ìš©ìë¥¼ í™•ì¸í•˜ê³ , í•´ë‹¹ ì‚¬ìš©ìì˜ ì±„íŒ…ì„ ê°€ì ¸ì˜¤ëŠ” get ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë”©í•˜ì—¬ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
    - ì±„íŒ… ë‚´ìš© DB ì €ì¥ ê¸°ëŠ¥ì€ postë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë”©í•˜ì—¬ ì‚¬ìš©ìë¥¼ ì§€ì •í•œ í›„ ì €ì¥í•˜ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
    - ì†ŒìŠ¤ ì½”ë“œ ë§í¬ : [chatbot/views.py](https://github.com/Alexmint001/Django_ChatGPT_Project_BE/blob/8ee148dcea402a4b8008dc139ff86f729bafca60/chatbot/views.py#L28C5-L58C61)
### 7.3.2. ì±—ë´‡ì— ìš”ì²­í•  ìˆ˜ ìˆëŠ” íšŸìˆ˜ëŠ” 1ì¼ 5íšŒë¡œ ì œí•œ - UserRateThrottleì„ ìƒì†ë°›ì•„ ChatBotThrottle êµ¬í˜„
- chatbot
    - ìš”ì²­ íšŸìˆ˜ ì œí•œ ê¸°ëŠ¥ì€ `throttles.py`ì—ì„œ `UserRateThrottle`ì„ ìƒì†ë°›ëŠ” `ChatBotThrottle`ì—ì„œ `rate`ë¥¼ `5/day`ë¡œ ì„¤ì • í›„ `allow_request` ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë”©í•˜ì—¬ postìš”ì²­ì— í•œí•´ì„œë§Œ ì ìš©í•˜ë„ë¡ ì„¤ì •í•˜ì˜€ìŠµë‹ˆë‹¤.
    - `views.py`ì—ì„œ `throttles_classes`ë¥¼ ì‘ì„±í•œ `ChatBotThrottle`ë¡œ ì„¤ì •
    - `throttles`ë¥¼ ë”°ë¡œ ì‘ì„±í•œ ì´ìœ  : `settings.py`ì—ì„œ `DEFAULT_THROTTLE_RATES`ë¡œ ì„¤ì •ì„ í•˜ë©´ ëª¨ë“  ìš”ì²­ì— íšŸìˆ˜ ì œí•œì„ ë‘ê²Œ ë˜ë¯€ë¡œ ë‹¨ìˆœíˆ ì´ì „ ë‚´ìš©ì„ ì½ì–´ì˜¤ëŠ” getìš”ì²­ë„ í¬í•¨ë˜ê¸° ë•Œë¬¸.
    - ì†ŒìŠ¤ ì½”ë“œ ë§í¬ : [chatbot/throttles.py](https://github.com/Alexmint001/Django_ChatGPT_Project_BE/blob/8ee148dcea402a4b8008dc139ff86f729bafca60/chatbot/throttles.py#L3C1-L13C5) / [chatbot/views.py](https://github.com/Alexmint001/Django_ChatGPT_Project_BE/blob/8ee148dcea402a4b8008dc139ff86f729bafca60/chatbot/views.py#L25C4-L25C41)
<br>

## 8. ê°œë°œí•˜ë©° ê²½í—˜í•œ ì˜¤ë¥˜ì™€ í•´ê²°ë°©ë²•
### 2023-11-23
### 8.1. ë¡œê·¸ì¸ ì‹œ BackEnd ì„œë²„ì™€ FrontEndì„œë²„ ì—°ê²° ì—ëŸ¬ (DRF ê¸°ë³¸ í† í° ë°©ì‹)ğŸ˜²
- ì—ëŸ¬
    - `HTTP 403 Forbidden, CSRF Failed: Origin checking failed - http://127.0.0.1:5500 does not match any trusted origins.`
- ì›ì¸
    - í† í°ì´ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ìœ„ì¹˜ë‘ ë§¤ì¹˜ ë˜ì§€ ì•Šì•„ì„œ ìƒê¸°ëŠ” ì—ëŸ¬
- í•´ê²°ë°©ë²•
    - `settings.py`ì— ê¸°ë³¸ ì¸ì¦ í´ë˜ìŠ¤ë¥¼ `TokenAuthentication`ìœ¼ë¡œ ì„¤ì •í•˜ì˜€ë‹¤
- ì†ŒìŠ¤ì½”ë“œ ë§í¬ : [Cardify/Settings.py Link](https://github.com/Alexmint001/Django_ChatGPT_Project_BE/blob/cee5d7a4c500f721dd74a1658402345752514826/Cardify/settings.py#L149C1-L154C2)
<details>
<summary>ì°¸ê³ í•œ django-rest-framework ì†ŒìŠ¤ ì½”ë“œ authentication.TokenAuthentication ë¶€ë¶„</summary>
<div markdown="1">

```python
...ìƒëµ...

class TokenAuthentication(BaseAuthentication):
    """
    ê°„ë‹¨í•œ í† í° ê¸°ë°˜ ì¸ì¦ì…ë‹ˆë‹¤.
    í´ë¼ì´ì–¸íŠ¸ëŠ” "Authorization"ì—ì„œ í† í° í‚¤ë¥¼ ì „ë‹¬í•˜ì—¬ ì¸ì¦í•´ì•¼ í•©ë‹ˆë‹¤
    ë¬¸ìì—´ "Token"ìœ¼ë¡œ ì•ì— ë¶™ëŠ” HTTP í—¤ë”ì…ë‹ˆë‹¤. 
    ì˜ˆë¥¼ ë“¤ì–´: Authorization: Token {token}
    """

    keyword = 'Token'
    model = None

    def get_model(self):
        if self.model is not None:
            return self.model
        from rest_framework.authtoken.models import Token
        return Token

    """
    ì‚¬ìš©ì ì§€ì • í† í° ëª¨ë¸ì„ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ ë‹¤ìŒ ì†ì„±ì´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
    * key -- í† í°ì„ ì‹ë³„í•˜ëŠ” ë¬¸ìì—´ì…ë‹ˆë‹¤
    * ì‚¬ìš©ì - í† í°ì´ ì†í•œ ì‚¬ìš©ì
    """

    def authenticate(self, request):
        auth = get_authorization_header(request).split()

        if not auth or auth[0].lower() != self.keyword.lower().encode():
            return None

        if len(auth) == 1:
            msg = _('Invalid token header. No credentials provided.')
            raise exceptions.AuthenticationFailed(msg)
        elif len(auth) > 2:
            msg = _('Invalid token header. Token string should not contain spaces.')
            raise exceptions.AuthenticationFailed(msg)

        try:
            token = auth[1].decode()
        except UnicodeError:
            msg = _('Invalid token header. Token string should not contain invalid characters.')
            raise exceptions.AuthenticationFailed(msg)

        return self.authenticate_credentials(token)

    def authenticate_credentials(self, key):
        model = self.get_model()
        try:
            token = model.objects.select_related('user').get(key=key)
        except model.DoesNotExist:
            raise exceptions.AuthenticationFailed(_('Invalid token.'))

        if not token.user.is_active:
            raise exceptions.AuthenticationFailed(_('User inactive or deleted.'))

        return (token.user, token)

    def authenticate_header(self, request):
        return self.keyword

...ìƒëµ...
```

</div>
</details>
<br>

### 2023-11-24
### 8.2. í´ë¼ì´ì–¸íŠ¸ì˜ ì‘ì„± í˜ì´ì§€ì—ì„œ ì‘ì„± ìš”ì²­, ìê²©ì´ ì—†ë‹¤, 400 ì—ëŸ¬ê°€ ë°œìƒğŸ˜²
- ì—ëŸ¬
    - í´ë¼ì´ì–¸íŠ¸ì˜ ì‘ì„± í˜ì´ì§€ì—ì„œ ì œëª©ê³¼ ë‚´ìš©ì„ ì‘ì„± í›„ ë¡œì»¬ì €ì¥ì†Œì˜ í† í°ì„ getitemìœ¼ë¡œ ë‹´ì•„ì„œ ìš”ì²­, ìê²©ì´ ì—†ë‹¤, 400 ì—ëŸ¬ê°€ ë°œìƒ
- ì›ì¸
    - authorë¥¼ ì…ë ¥ë°›ì•„ì•¼ í•´ë‹¹ ê¸€ì˜ authorë¥¼ ì§€ì •í•˜ëŠ”ë° í´ë¼ì´ì–¸íŠ¸ë¡œ ì…ë ¥ ë°›ì§€ ëª»í•˜ì—¬ ìƒê¸´ ì—ëŸ¬
- í•´ê²°ë°©ë²•
    - `serializers.py`ì— `author`ë¥¼ `ReadOnlyField`ë¡œ ì„¤ì •í•˜ì˜€ê³ , `views.py`ì— `CreateModelMixin`ì˜ `perform_create`ë¥¼ ì˜¤ë²„ë¼ì´ë”© í•˜ì—¬ ê¸°ë³¸ì ìœ¼ë¡œ `request.user`ë¥¼ í†µí•´ ìë™ì ìœ¼ë¡œ ì„¤ì •ë˜ê³ . ì´ë¥¼ í†µí•´ `author`ëŠ” í´ë¼ì´ì–¸íŠ¸ë¡œ ë¶€í„° ì…ë ¥ì„ ë°›ì§€ ì•Šê³ , ì„œë²„ì—ì„œë§Œ ìˆ˜ì •ì´ ê°€ëŠ¥í•˜ë„ë¡ í•˜ì˜€ë‹¤.
- ì†ŒìŠ¤ì½”ë“œ ë§í¬ : [memorycards/Serializers.py Link](https://github.com/Alexmint001/Django_ChatGPT_Project_BE/blob/cee5d7a4c500f721dd74a1658402345752514826/memorycards/serializers.py#L4C1-L19C21) / [memorycards/Views.py Link](https://github.com/Alexmint001/Django_ChatGPT_Project_BE/blob/cee5d7a4c500f721dd74a1658402345752514826/memorycards/views.py#L8C1-L29C5)

### 2023-11-25
### 8.3. register(íšŒì›ê°€ì…)ì—ì„œ ë‹‰ë„¤ì„ ì¶”ê°€ í›„ íšŒì›ê°€ì… ì‹œ ë°œìƒí•œ ì—ëŸ¬ğŸ˜©
- ì—ëŸ¬
  - `FieldError at /accounts/register/, Cannot resolve keyword 'nickname' into field.
    Choices are: auth_token, carduser, date_joined, email, first_name, groups, id, is_active, is_staff, is_superuser,
    last_login, last_name, logentry, memorycard, password, user_permissions, username`
- ì›ì¸
  - ê¸°ë³¸ `User Model`ì— `nickname field`ê°€ ì—†ì–´ì„œ ë°œìƒí•œ ì˜¤ë¥˜
- í•´ê²°ë°©ë²•
  - `User`ì˜ `AbstractUser`ë¥¼ ìƒì†ë°›ì•„ ì»¤ìŠ¤í…€ ìœ ì €ë¥¼ ë§Œë“¤ì–´ì„œ í•´ê²°í•´ì•¼í•¨. `User Model`ì„ ê±´ë“œë ¤ì•¼ í•˜ë¯€ë¡œ ì´ˆê¸°ì— ì§„í–‰í–ˆì–´ì•¼ í•¨.
- ì•„ì‰¬ìš´ ì 
  - ì´ë¯¸ ì–´ëŠ ì •ë„ í”„ë¡œì íŠ¸ê°€ ì§„í–‰ì´ ëœ ìƒíƒœë¼ `User Model` ì»¤ìŠ¤í…€ í•˜ê¸°ì—ëŠ” ë¶€ë‹´ì´ ë˜ì–´ ì´ ë¶€ë¶„ì€ ì‘ì—…í•˜ì§€ ëª»í•¨.<br>
- ì†ŒìŠ¤ì½”ë“œ ë§í¬ : [accounts/Models.py Link](https://github.com/Alexmint001/Django_ChatGPT_Project_BE/blob/cee5d7a4c500f721dd74a1658402345752514826/accounts/models.py#L4C1-L15C47)

